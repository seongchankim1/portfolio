<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>이츠마인 프로젝트 - 김성찬 포트폴리오</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/style.css" />
    <!-- AOS -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" rel="stylesheet" />
    <!-- Prism -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" />
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body { font-family:'Noto Sans KR',sans-serif; background:linear-gradient(145deg,#f0f4f8,#e2e8f0); overflow-x:hidden; padding-top:100px; }
        header {
            position:fixed; top:0; width:100%; z-index:100;
            background: linear-gradient(90deg, #1e3c72, #667db6);
            color: #fff;
            backdrop-filter:blur(10px);
            transition:padding 0.3s, background 0.3s;
            padding:1.5rem 1rem;
            display:flex; flex-direction:column; align-items:center; justify-content:center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }
        header.shrink { padding:0.8rem 1rem; background:linear-gradient(90deg, #12243f, #445d8c); }
        .logo {
            font-size:2rem;
            font-weight:700;
            color:#fff;
            text-shadow:0 2px 5px rgba(0,0,0,0.3);
            margin-bottom:0.5rem;
        }
        nav ul { display:flex; gap:2rem; list-style:none; }
        nav a { position:relative; color:#fff; font-weight:500; text-decoration:none; padding:0.5rem;
            transition:color 0.3s;
        }
        nav a::after {
            content:''; position:absolute; bottom:0; left:0;
            width:0; height:2px; background:#00e0ff;
            transition:width 0.3s;
        }
        nav a:hover { color:#00e0ff; }
        nav a:hover::after { width:100%; }
        main { max-width:1000px; margin:0 auto; }
        section { margin:4rem 1.5rem; padding:2rem; background:#fff; border-radius:12px; box-shadow:0 5px 15px rgba(0,0,0,0.05); }
        .info-box { display:flex; flex-direction:column; gap:0.5rem; padding:1rem; background:#f4f7fb; border:1px solid #dce6f0; border-radius:8px; }
        .info-box .label { font-weight:bold; color:#007acc; width:4rem; display:inline-block; }
        h2 { font-size:2rem; border-left:5px solid #3b82f6; padding-left:0.7rem; margin-bottom:1rem; }
        .project-links a { margin-right:1rem; color:#0066cc; }
        h3 { margin-top:2.5rem; color:#2c3e50; border-bottom:2px solid #eee; padding-bottom:0.3rem; }
        .card { background:#f9f9f9; border-left:5px solid #007acc; padding:1rem 1.5rem; margin:1.5rem 0; box-shadow:0 2px 5px rgba(0,0,0,0.05); border-radius:6px; }
        .card-title { font-size:1.2rem; font-weight:bold; color:#007acc; border-bottom:1px solid #ccc; margin-bottom:1rem; padding-bottom:0.3rem; }
        ul { padding-left:1.2rem; margin-bottom:1.5rem; }
        pre { background:#2d2d2d; padding:1rem; overflow-x:auto; border-radius:6px; }
        code { font-size:0.95rem; color:#f8f8f2; }
        footer { text-align:center; padding:1rem; margin:4rem 0; background:#f1f5f9; }
        @media(max-width:600px){ nav ul{flex-direction:column;gap:0.5rem;} }
    </style>
</head>
<body>
<header id="header">
    <div class="logo">김성찬 포트폴리오</div>
    <nav>
        <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="itsmine.html">이츠마인</a></li>
            <li><a href="projectmanager.html">Project Manager</a></li>
            <li><a href="kyndof.html">커뮤니티 프로젝트</a></li>
        </ul>
    </nav>
</header>
<main>
    <section data-aos="fade-up">
        <h2 data-aos="fade-right">이츠마인</h2>
        <div class="info-box" data-aos="zoom-in">
            <div><span class="label">📌 소개</span>경매를 통한 중고거래 시스템</div>
            <div><span class="label">🕒 기간</span>2024.07 ~ 2024.08</div>
            <div><span class="label">👥 인원</span>5명 (BE)</div>
            <div>
                <span class="label">🔗 링크</span>
                <a href="https://youtu.be/ZirbEetGmtY" target="_blank">📺 시연영상</a>
                <a href="https://github.com/11-itsmine/itsmine" target="_blank">🔗 GitHub</a>
                <a href="https://www.notion.so/faf10b31eec04c97a18819caad6e1a54?pvs=21" target="_blank">📄 Notion</a>
            </div>
        </div>
        <!-- 개발 환경 및 기술 스택 -->
        <h2 data-aos="fade-up">개발 환경</h2>
        <div class="card" data-aos="fade-up">
            <ul style="margin-bottom: 0;">
                <li><strong>Version:</strong> Java 17</li>
                <li><strong>IDE:</strong> IntelliJ</li>
                <li><strong>Framework:</strong> SpringBoot 3.3.0</li>
                <li><strong>ORM:</strong> JPA</li>
            </ul>
        </div>

        <h2 data-aos="fade-up">기술 스택</h2>
        <div class="card" data-aos="fade-up">
            <ul style="margin-bottom: 0;">
                <li><strong>Computing:</strong> AWS EC2, Docker</li>
                <li><strong>Container & Image:</strong> ECR</li>
                <li><strong>Frontend:</strong> React</li>
                <li><strong>Database:</strong> AWS RDS (MariaDB)</li>
                <li><strong>Cache:</strong> ElastiCache (Redis)</li>
                <li><strong>Content Delivery:</strong> CloudFront</li>
                <li><strong>Storage:</strong> AWS S3</li>
                <li><strong>Messaging:</strong> AmazonMQ (RabbitMQ, ActiveMQ)</li>
                <li><strong>협업 툴:</strong> Slack, Zoom, Notion, Figma, ERD Cloud</li>
            </ul>
        </div>

        <h2 data-aos="fade-up">주요 기술</h2>
        <div class="card" data-aos="fade-up">
            <div class="card-title">상품/경매</div>
            <ul>
                <li><strong>Redis 분산 락</strong>
                    <ul>
                        <li>Redis Redisson → 입찰 데이터 오류 발생 방지</li>
                        <li>AOP, 애노테이션화 → 재사용성 증가</li>
                    </ul>
                </li>
                <li><strong>RabbitMQ</strong>
                    <ul>
                        <li>TTL, DLX → 경매 만료 시 상태 변경 자동화</li>
                    </ul>
                </li>
                <li><strong>@Index, @cacheable, QueryDSL</strong>
                    <ul>
                        <li>데이터베이스 반복 접근 방지</li>
                        <li>캐시 계층 활용 → 읽기/쓰기 분리로 DB 성능 최적화</li>
                    </ul>
                </li>
            </ul>
            <div class="card-title">회원가입/로그인</div>
            <ul>
                <li>Redis Lettuce (DB 조회 최소화 및 JWT/리프레시 토큰 관리)</li>
                <li>카카오 소셜 로그인 (JWT/리프레시 토큰 관리)</li>
            </ul>
            <div class="card-title">실시간 채팅</div>
            <ul>
                <li>ActiveMQ, Async 처리, wss (Nginx 웹소켓 설정 적용)</li>
            </ul>
        </div>
    <h2 data-aos="fade-up">트러블슈팅</h2>

        <div class="card" data-aos="fade-up">
            <div class="card-title">동시성 문제</div>
            <p><strong>문제점:</strong> 다수의 사용자가 동시에 입찰하는 과정에서 데이터 충돌 및 값 갱신 오류 발생</p>
            <p><strong>대안 목록:</strong></p>
            <ul>
                <li><strong>데이터베이스 락:</strong> 트랜잭션 내 동시성 보장, 전체 트랜잭션 지연, DB 부하 증가, 확장성 한계</li>
                <li><strong>synchronized 키워드:</strong> 단일 JVM에서만 유효하여 분산 환경에서는 사용 불가</li>
                <li><strong>Redis Redisson:</strong> 분산 환경에서의 동시성 제어가 가능, FairLock과 같은 기능으로 공정하게 락을 할당</li>
            </ul>
            <p><strong>선택:</strong> Redis 기반 Redisson FairLock 적용</p>
            <p><strong>구현:</strong></p>
            <pre><code class="language-java">public &lt;T&gt; T lock(String lockName, Supplier&lt;T&gt; operation) {
  RLock lock = redissonClient.getFairLock(lockName);
  try {
    boolean isLocked = lock.tryLock(WAIT_TIME, LEASE_TIME, TIME_UNIT);
    if (!isLocked) {
      throw new IllegalArgumentException("입찰 생성 대기시간 초과");
    }
    return operation.get();
  } finally {
    lock.unlock();
  }
}</code></pre>
            <p><strong>선택 이유:</strong> 분산 환경에서도 안정적인 동시성 제어가 가능하며, 락 획득 실패 시 적절한 예외 처리 가능</p>
            <p><strong>결과:</strong> 동시 10명 이상의 입찰 요청에서도 데이터 무결성이 100% 유지되었으며, 수천 건의 동시 요청에도 안정적인 입찰 처리 확인</p>
        </div>

        <div class="card" data-aos="fade-up" data-aos-delay="100">
            <div class="card-title">분산락 설정 문제</div>
            <p><strong>문제점:</strong> 여러 분산락을 사용할 경우, Repository의 Delete 작업 등에서 @Transactional 과의 충돌로 인해 롤백이 발생하고, 락 해제 시 키 지급 문제 발생</p>
            <p><strong>대안 목록:</strong></p>
            <ul>
                <li>기능별 별도 락 관리: 각 기능별로 맞춤형 락 제어 가능하지만, 코드 중복 및 관리 복잡도 증가</li>
                <li>AOP 기반 Annotation 처리: 공통 관심사를 분리하여 코드 재사용성을 극대화하며, 트랜잭션과의 충돌 문제 최소화</li>
            </ul>
            <p><strong>선택:</strong> AOP를 활용한 분산 락 Annotation화를 도입</p>
            <p><strong>구현:</strong></p>
            <pre><code class="language-java">@Around("@annotation(distributedLock)")
public Object handleLock(ProceedingJoinPoint joinPoint, DistributedLock distributedLock) throws Throwable {
  String dynamicKey = createDynamicKey(joinPoint, distributedLock.key());
  String lockName = distributedLock.prefix() + ":" + dynamicKey;
  return lockManager.lock(lockName, () -> {
    try {
      return joinPoint.proceed();
    } catch (Throwable throwable) {
      throw new RuntimeException(throwable);
    }
  });
}

private String createDynamicKey(ProceedingJoinPoint joinPoint, String key) {
  MethodSignature methodSignature = (MethodSignature) joinPoint.getSignature();
  String[] parameterNames = methodSignature.getParameterNames();
  Object[] args = joinPoint.getArgs();
  int index = Arrays.asList(parameterNames).indexOf(key);
  return args[index].toString();
}</code></pre>
            <p><strong>선택 이유:</strong> 여러 모듈에 동일한 분산 락 로직을 손쉽게 적용할 수 있어 유지보수가 용이하며, 트랜잭션과의 충돌 문제 최소화 가능</p>
            <p><strong>결과:</strong> 분산락 적용 대상 모듈에 일관되게 적용되어, 트랜잭션 충돌 없이 안정적인 동시성 제어 가능하며, 유사한 동시성 제어가 필요한 상황에 재사용성 증가</p>
        </div>

        <div class="card" data-aos="fade-up" data-aos-delay="200">
            <div class="card-title">알림 상태 변경 지연 문제</div>
            <p><strong>문제점:</strong> 경매 종료 시 알림 및 상태 변경 메시지가 지연</p>
            <p><strong>대안 목록:</strong></p>
            <ul>
                <li>스케줄러 기반 직접 처리: 구현이 단순하여 바로 적용 가능하나, 실시간성이 부족하여 메시지 처리 지연(약 800ms 이상) 및 서버 부하 증가</li>
                <li>Kafka 사용: 대용량 데이터 스트리밍에는 강점이나, 실시간 알림 목적에는 추가 설정과 복잡성으로 인해 지연 발생</li>
                <li>RabbitMQ (TTL 및 DLX 활용): 낮은 지연성의 실시간 메시지 처리에 적합하며, TTL과 DLX 기능으로 지연 처리 자동화 가능</li>
            </ul>
            <p><strong>선택:</strong> RabbitMQ의 TTL 및 DLX 기능을 활용하여, 경매 종료 시 메시지를 DLX(지연 큐)로 이동시키는 방식 도입</p>
            <p><strong>구현:</strong> 메시지 전송 시 TTL, x-dead-letter-exchange, x-dead-letter-routing-key 설정 → 만료된 메시지가 자동 DLX 이동 → 후속 리스너가 지연 큐에서 처리</p>
            <p><strong>선택 이유:</strong> RabbitMQ는 내장된 TTL과 DLX 기능을 제공하여 별도 추가 코딩 없이 메시지 지연 처리를 자동화 가능</p>
            <p><strong>결과:</strong> 평균 응답 시간 800ms → 250ms로 개선 (약 60% 속도 향상)</p>
        </div>
    </section>
</main>
<footer data-aos="fade-up">
    &copy; 2025 김성찬 All rights reserved.
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script>
    AOS.init({ duration:800, once:true });
    window.addEventListener('scroll',()=>{
        const h=document.getElementById('header');
        window.scrollY>50? h.classList.add('shrink'):h.classList.remove('shrink');
    });
</script>
</body>
</html>
